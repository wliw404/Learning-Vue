<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="app">
    <input type="text" v-model="username">
</div>
<script src="./lib/vue-2.6.12.js"></script>
<script src="./lib/jquery-3.5.1.min.js"></script>
<script>
  const vm = new Vue({
      el:'#app',
      data:{
          username:'zhangsan'
      },
      //所有的侦听器，都应该被定义到watch节点下
      watch: {
          //侦听器本质上是一个函数，要监视哪个数据的变化，就把数据名作为方法名
          //newVal是变化后的新值,oldVal是变化前的旧值
          //新值在前，旧值在后
          username(newVal){
              //判断新值如果为空，return出去
              if(newVal == '') return
              //调用ajax发起请求，判断newVal是否被占用
              $.get('https://www.escook.cn/api/finduser/' + newVal,res=>{
                  console.log(res)
              })
          }
      }
  })
</script>




</body>
</html>